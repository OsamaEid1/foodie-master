{"ast":null,"code":"// Router \nimport{Link}from\"react-router-dom\";// Hooks \nimport{useEffect,useRef}from\"react\";// Custom Hook \nimport useFetch from\"../components/useFetch\";// Import Menu CSS File\n// import \"../css/pages/menu.css\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu=function Menu(){// Fetch Menu Data \nvar _useFetch=useFetch(\"/data/menu.json\"),menu=_useFetch.data,isPending=_useFetch.isPending,error=_useFetch.error;//Filter Menu\nvar filter=useRef();var items=useRef();var toggleActiveLi=function toggleActiveLi(lis,clickedLi){lis.forEach(function(li){li.classList.remove(\"active-li\");});clickedLi.classList.add(\"active-li\");};useEffect(function(){if(filter.current){var lis=Array.from(filter.current.children);lis.forEach(function(li){li.onclick=function(){var itemsArr=Array.from(items.current.children);if(li.innerText.toLowerCase()===\"all\"){toggleActiveLi(lis,li);itemsArr.forEach(function(item){item.style.display=\"block\";});}else if(!li.classList.contains(\"active-li\")){toggleActiveLi(lis,li);itemsArr.forEach(function(item){if(item.dataset.cat.toLowerCase()===li.innerText.toLowerCase()){item.style.display=\"block\";}else{item.style.display=\"none\";}});}};});}},[]);return/*#__PURE__*/_jsx(\"section\",{className:\"menu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Our \",/*#__PURE__*/_jsx(\"span\",{children:\"Menu\"})]})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"filter\",ref:filter,children:[/*#__PURE__*/_jsx(\"li\",{className:\"active-li\",children:\"All\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Pizza\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Burger\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Sandwich\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Drink\"})]}),isPending&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\"Error: \",error]}),/*#__PURE__*/_jsx(\"div\",{className:\"items\",ref:items,children:menu&&menu.map(function(dish){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",\"data-cat\":dish.cat,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image\",children:[dish.offer?/*#__PURE__*/_jsx(\"span\",{className:\"offer\",children:dish.offer&&-dish.offer+\"%\"}):/*#__PURE__*/_jsx(\"span\",{className:\"offer\",style:{backgroundColor:\"transparent\"}}),/*#__PURE__*/_jsx(\"img\",{src:dish.img,alt:\"\"}),/*#__PURE__*/_jsx(Link,{to:dish.name.replaceAll(\" \",\"-\"),state:dish.id,className:\"order\",children:\"Order Now\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"cat\",children:dish.cat}),/*#__PURE__*/_jsx(\"h2\",{className:\"item-name\",children:dish.name}),function(){if(!dish.offer){return/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"PRICE: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",parseFloat(dish.price).toFixed(2)]})]});}else{var price=dish.price-dish.offer/100*dish.price;return/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"PRICE: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA3\",parseFloat(price).toFixed(2)]}),\"  \",/*#__PURE__*/_jsxs(\"strike\",{children:[\"\\xA3\",parseFloat(dish.price).toFixed(2)]})]});}}()]},dish.id);})})]})});};export default Menu;","map":{"version":3,"names":["Link","useEffect","useRef","useFetch","Menu","menu","data","isPending","error","filter","items","toggleActiveLi","lis","clickedLi","forEach","li","classList","remove","add","current","Array","from","children","onclick","itemsArr","innerText","toLowerCase","item","style","display","contains","dataset","cat","color","map","dish","offer","backgroundColor","img","name","replaceAll","id","parseFloat","price","toFixed"],"sources":["D:/web/Learn_React/Foodie-Master/src/pages/Menu.js"],"sourcesContent":["// Router \r\nimport { Link } from \"react-router-dom\"\r\n// Hooks \r\nimport { useEffect, useRef } from \"react\";  \r\n// Custom Hook \r\nimport useFetch from \"../components/useFetch\";\r\n\r\n// Import Menu CSS File\r\n// import \"../css/pages/menu.css\";\r\n\r\nconst Menu = () => {\r\n    // Fetch Menu Data \r\n    const {data: menu, isPending, error} = useFetch(\"/data/menu.json\");\r\n\r\n    //Filter Menu\r\n    const filter = useRef();\r\n    const items = useRef();\r\n\r\n    const toggleActiveLi = (lis, clickedLi) => {\r\n        lis.forEach((li) => {\r\n            li.classList.remove(\"active-li\");\r\n        });\r\n        clickedLi.classList.add(\"active-li\");\r\n    }\r\n    useEffect(() => {\r\n        if (filter.current) {\r\n            let lis = Array.from(filter.current.children);\r\n            lis.forEach((li) => {\r\n                li.onclick = () => {\r\n                    let itemsArr = Array.from(items.current.children);\r\n                    if (li.innerText.toLowerCase() === \"all\") {\r\n                        toggleActiveLi(lis,li);\r\n                        itemsArr.forEach((item) => {\r\n                            item.style.display = \"block\";\r\n                        });\r\n                    } else if (!li.classList.contains(\"active-li\")) {\r\n                        toggleActiveLi(lis,li);\r\n                        itemsArr.forEach((item) => {\r\n                            if (item.dataset.cat.toLowerCase() === li.innerText.toLowerCase()) {\r\n                                item.style.display = \"block\";\r\n                            } else {\r\n                                item.style.display = \"none\";\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }, [])\r\n\r\n    return ( \r\n        <section className=\"menu\">\r\n            <div className=\"container\">\r\n                <div className=\"head\">\r\n                    <h1>Our <span>Menu</span></h1>\r\n                </div>\r\n                <ul className=\"filter\" ref={filter}>\r\n                    <li className=\"active-li\">All</li>\r\n                    <li>Pizza</li>\r\n                    <li>Burger</li>\r\n                    <li>Sandwich</li>\r\n                    <li>Drink</li>\r\n                </ul>\r\n                { isPending && (<p>Loading...</p>) }\r\n                { error && (<p style={{color: \"red\"}}>Error: {error}</p>)}\r\n                <div className=\"items\" ref={items}>\r\n                {\r\n                    menu && menu.map((dish) => {\r\n                        return (\r\n                        <div className=\"item\" data-cat={dish.cat} key={dish.id}>\r\n                            <div className=\"image\">\r\n                                {\r\n                                    dish.offer? (<span className=\"offer\">{dish.offer && -dish.offer + \"%\"}</span>):\r\n                                    (<span className=\"offer\" style={{backgroundColor: \"transparent\"}}></span>)\r\n                                }\r\n                                <img src={dish.img} alt=\"\" />\r\n                                <Link\r\n                                    to={dish.name.replaceAll(\" \", \"-\")}\r\n                                    state={dish.id}\r\n                                    className=\"order\"\r\n                                    >\r\n                                    Order Now\r\n                                </Link>\r\n                            </div>\r\n                            <p className=\"cat\">{dish.cat}</p>\r\n                            <h2 className=\"item-name\">{dish.name}</h2>\r\n                            {( () => {\r\n                                if (!dish.offer) {\r\n                                    return (<p className=\"price\">PRICE: <span>&pound;{parseFloat(dish.price).toFixed(2)}</span></p>)\r\n                                } else {\r\n                                    let price = dish.price - ((dish.offer / 100) * dish.price);\r\n                                    return (<p className=\"price\">PRICE: <span>&pound;{parseFloat(price).toFixed(2)}</span>  <strike>&pound;{parseFloat(dish.price).toFixed(2)}</strike></p>)\r\n                                }\r\n                            }\r\n                            )()}\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Menu;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}